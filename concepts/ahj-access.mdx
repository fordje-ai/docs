---
title: "AHJ Access Control"
description: "How subscription-based AHJ access scoping works"
---

Fordje Connect enforces access control based on your organization's AHJ subscription. You can only access data for AHJs included in your subscription.

## How it works

Every API request is scoped to your organization's entitled AHJs:

1. Your API key identifies your organization
2. The API resolves which AHJ IDs your subscription includes
3. Requests are filtered to only return data for those AHJs

## Listing endpoints

Endpoints that list data (like `GET /v1/ahjs` or `GET /v1/data-points`) automatically scope results to your entitled AHJs. You only see data you have access to.

## Specific AHJ requests

When you request a specific AHJ by ID (like `GET /v1/ahjs/{id}`), the API checks whether that AHJ is in your subscription. If not, you receive a `403 Forbidden` response:

```json
{
  "response_type": "error",
  "description": "Your subscription does not include access to the requested AHJ(s). Excluded AHJ IDs: 999",
  "error": "AHJ_ACCESS_DENIED",
  "status_code": 403
}
```

## Partial access with warnings

When you request multiple AHJs in a bulk endpoint (like `GET /v1/data-points?ahj_ids=1,2,999`), the API returns data for the AHJs you have access to and includes a `warnings` array for any excluded IDs:

```json
{
  "response_type": "success",
  "description": "Retrieved 25 data point(s)",
  "data": {
    "items": ["..."],
    "pagination": { "..." : "..." }
  },
  "warnings": [
    {
      "code": "AHJ_ACCESS_DENIED",
      "message": "Your subscription does not include the following AHJs",
      "excluded_ahj_ids": [999]
    }
  ]
}
```

<Info>
  The API returns a successful response with partial data rather than failing the entire request. Always check the `warnings` array to detect excluded AHJs.
</Info>

## Full denial

If **all** requested AHJs are outside your subscription, the API returns a `403` rather than an empty success response.

## Discovering available data points

You can see which data points exist for any AHJ in your subscription by calling the data points endpoint filtered to specific jurisdictions:

```bash
curl -X GET "https://connect.fordje.com/v1/data-points?ahj_ids=1&page_size=10" \
  -H "X-API-Key: your-api-key"
```

This returns the data points that Fordje tracks for that jurisdiction. Examples of data points you might find include:

- Minimum insulation R-value
- Whether a permit is required for re-roofing
- Utility interconnection voltage thresholds
- Fire sprinkler requirements for residential construction
- Solar panel setback distances

Different AHJs will have different sets of data points depending on what Fordje has catalogued for that jurisdiction. See the [data points API reference](/api-reference/data-points) for all available filters and response details.

<Note>
  Not seeing a data point you need? Reach out to [support@fordje.com](mailto:support@fordje.com) â€” we're always expanding our coverage.
</Note>

## Which endpoints enforce access

| Endpoint | Access behavior |
|----------|----------------|
| `GET /v1/ahjs` | Returns only subscribed AHJs |
| `GET /v1/ahjs/{id}` | 403 if not subscribed |
| `GET /v1/data-points` | Filters to subscribed AHJs, warns about excluded |
| `POST /v1/reports/matrix` | Partial results + warnings |
| `POST /v1/reports/export` | Filters to subscribed AHJs |
| `GET /v1/collections/{id}/data` | Partial results + warnings |
| `POST /v1/collections/{id}/export` | Filters to subscribed AHJs |
| `GET /v1/data-points/types` | No AHJ scoping (global reference data) |
| `GET /v1/trade-groups` | No AHJ scoping (global reference data) |
| `GET /v1/units-of-measure` | No AHJ scoping (global reference data) |
